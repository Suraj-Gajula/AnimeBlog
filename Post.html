<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post</title>
    <style>
        nav a {
            margin: 30px;
            text-decoration: none;
            color: #000000;
        }
        nav a span{
            position: relative;
            top: -1px;
        }
        img {
            height: 20px; 
            cursor: pointer; 
            margin-right: 10px;
        }
        header{
            width: 95%;
            padding: 20px;
            display: flex;
            justify-content: center;
            font-size: 24px;
        }
        p{
            font-family: "Times New Roman", Times, serif;
            margin-left: 310px;
            width: 900px;
        }
        body, html {
            margin: 0;
            padding: 0;
        }
        .footer {
            background-color: #000000; 
            color: #fff;
            text-align: center;
            padding: 20px;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
        #postTitle{
            font-size: 32px;
        }
        #postInfo{
            font-size: 20px;
        }
        #postContent{
            font-size: 24px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="index.html"><img src="Home.png" loading="lazy"><span>Home</span></a>
            <a href="CreatePost.html"><img src="Create.png" loading="lazy"><span>Create</span></a>
            <a href="ViewPost.html"><img src = "View.png" loading="lazy"><span>View</span></a>
            <a href="Account.html"><img src = "Account.png" loading="lazy"><span>Account</span></a>
        </nav>
    </header>
    <div style = "margin: 100px;"></div>
    <p id="postTitle"></p>
    <p id="postInfo"></p>
    <p id="postContent"></p>
    <div style = "margin: 100px;"></div>
    <footer class="footer">
        &copy; 2024 AnimeBlog. All rights reserved.
    </footer>
    <script>
        async function fetchPost() {
            const urlParams = new URLSearchParams(window.location.search);
            const title = urlParams.get('title');
            try {
                const response = await fetch('https://tom4znmjdf.execute-api.us-west-1.amazonaws.com/GetPost', {
                    method: 'POST',
                    headers: {
                        'content-type': 'application/json'
                    },
                    body: JSON.stringify({ title: title })
                });
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const post = await response.json();
                document.getElementById('postTitle').textContent = post.Title;
                document.getElementById('postInfo').textContent = `Date: ${post.Date} by ${post.Author}`;
                document.getElementById('postContent').textContent = post.Body;
            } catch (error) {
                console.error('Error fetching post:', error);
            }
        }
        fetchPost();
    </script>
</body>
</html>
